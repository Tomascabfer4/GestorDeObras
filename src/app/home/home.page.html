<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>INICIO</ion-title>
  </ion-toolbar>
</ion-header>

<ion-title class="estado-obras-title">ESTADO DE LAS OBRAS</ion-title>

<ion-segment>
  <ion-segment-button class="amarillo" value="presupuestada" content-id="presupuestada">
    <ion-label>Presupuestadas</ion-label>
  </ion-segment-button>
  <ion-segment-button class="verde" value="enCurso" content-id="enCurso">
    <ion-label>En Curso</ion-label>
  </ion-segment-button>
  <ion-segment-button class="rojo" value="finalizadas" content-id="finalizadas">
    <ion-label>Finalizadas</ion-label>
  </ion-segment-button>
</ion-segment>

<ion-segment-view>
  <ion-segment-content id="presupuestada">

    <ion-list>
      <ion-item-sliding *ngFor="let presupuestada of presupuestadas" >
        <ion-item >
          <ion-card color="warning">
            <ion-card-header>
              <ion-card-title>{{ presupuestada.Localidad }}</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <p><strong>Direccion:</strong> {{ presupuestada.Direccion }}</p>
              <p><strong>Nombre Completo del Cliente:</strong> {{ presupuestada.NombreCompletoCliente }}</p>
              <p><strong>Telefono del Cliente:</strong> {{ presupuestada.TelefonoCliente }} </p>
            </ion-card-content>
          </ion-card>
        </ion-item>
    
        <ion-item-options>
          <ion-item-option color="success" (click)="cambiarEstado(presupuestada, 'En curso')">En Curso</ion-item-option>
          <ion-item-option color="danger" (click)="cambiarEstado(presupuestada, 'Finalizada')">Finalizada</ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>

  </ion-segment-content>

  <ion-segment-content id="enCurso">

    <ion-list>
      <ion-item-sliding *ngFor="let enCurso of enCursos" >
        <ion-item >
          <ion-card color="success">
            <ion-card-header>
              <ion-card-title>{{ enCurso.Localidad }}</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <p><strong>Direccion:</strong> {{ enCurso.Direccion }}</p>
              <p><strong>Nombre Completo del Cliente:</strong> {{ enCurso.NombreCompletoCliente }}</p>
              <p><strong>Telefono del Cliente:</strong> {{ enCurso.TelefonoCliente }} </p>
            </ion-card-content>
          </ion-card>
        </ion-item>
    
        <ion-item-options>
          <ion-item-option color="warning" (click)="cambiarEstado(enCurso, 'Presupuestada')">Presupuestada</ion-item-option>
          <ion-item-option color="danger" (click)="cambiarEstado(enCurso, 'Finalizada')">Finalizada</ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>

  </ion-segment-content>

  <ion-segment-content id="finalizadas">

    <ion-list>
      <ion-item-sliding *ngFor="let finalizada of finalizadas" >
        <ion-item >
          <ion-card color="danger">
            <ion-card-header>
              <ion-card-title>{{ finalizada.Localidad }}</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <p><strong>Direccion:</strong> {{ finalizada.Direccion }}</p>
              <p><strong>Nombre Completo del Cliente:</strong> {{ finalizada.NombreCompletoCliente }}</p>
              <p><strong>Telefono del Cliente:</strong> {{ finalizada.TelefonoCliente }} </p>
            </ion-card-content>
          </ion-card>
        </ion-item>
    
        <ion-item-options>
          <ion-item-option color="warning" (click)="cambiarEstado(finalizada, 'Presupuestada')">Presupuestada</ion-item-option>
          <ion-item-option color="success" (click)="cambiarEstado(finalizada, 'En curso')">En Curso</ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>

  </ion-segment-content>
</ion-segment-view>

<ion-footer>
  <ion-toolbar>
    <ion-title>INICIO</ion-title>
  </ion-toolbar>
</ion-footer>
